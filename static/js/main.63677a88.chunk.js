(this["webpackJsonpsmall-library-react"]=this["webpackJsonpsmall-library-react"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(3),r=a.n(l),c=a(1);a(9),a(10),a(11),a(12);function i(e,t,a,n){this.title=e,this.author=t,this.pages=a,this.isRead=n}var u=function(){var e=[],t=0;function a(a,n,o,l){var r=new i(a,n,o,l);r.id="ID"+ ++t,e.push(r)}return{initializeLibrary:function(){if(localStorage.getItem("@small-lib-react/book1"))for(var e=1;e<=localStorage.length;e++){var t=JSON.parse(localStorage.getItem("@small-lib-react/book".concat(e)));a(t[0],t[1],t[2],t[3])}else a("Budapeste","Chico Buarque de Holanda",174,!0),a("Estorvo","Chico Buarque de Holanda",203,!1),a("Pale Blue Dot","Carl Sagan",421,!0)},saveLibrary:function(){localStorage.clear();var t=1;e.forEach((function(e){localStorage.setItem("@small-lib-react/book".concat(t),JSON.stringify(Object.values(e))),t++}))},getAllBooks:function(){return e},addBook:a,deleteBook:function(t){var a=e.filter((function(e){if(e.id!==t)return e}));e=a},editBook:function(t){var a=e.map((function(e){if(e.id===t.id){var a=t.title,n=t.author,o=t.pages,l=t.isRead;e.title=a,e.author=n,e.pages=o,e.isRead=l}return e}));e=a},changeBookReadStatus:function(t){var a=e.map((function(e){return e.id===t&&(e.isRead=!e.isRead),e}));e=a}}}();a(13);var d=function(){return o.a.createElement("header",null,o.a.createElement("h1",null,"Small Library"),o.a.createElement("h2",null,"\u201cI cannot remember the books I've read any more than the meals I have eaten; even so, they have made me.\u201d \u2015 Emerson, Ralph Waldo"))};a(14);var s=function(e){var t=e.bookObj,a=e.setBookLibrary,n=e.setBookToEdit,l=e.toggleModal,r=t.title,c=t.author,i=t.pages,d=t.isRead,s=t.id;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h2",null,r),o.a.createElement("h3",null,c)),o.a.createElement("div",{className:"card-footer"},o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{onClick:function(){u.deleteBook(s),a(u.getAllBooks())}},"delete"),o.a.createElement("button",{onClick:function(){n(t),l()}},"edit")),i?o.a.createElement("h4",null,i," pages"):o.a.createElement("p",null),o.a.createElement("div",{className:"checkbox-container"},o.a.createElement("div",{className:"checkbox"},o.a.createElement("label",{htmlFor:"read-checkbox"},"read"),o.a.createElement("input",{id:"test",type:"checkbox",name:"read-checkbox",checked:d,onChange:function(){u.changeBookReadStatus(s),a(u.getAllBooks())}})))))};a(15);var m=function(e){var t=e.showModal,a=e.toggleModal,l=e.setBookLibrary,r=e.bookToEdit,i=e.setBookToEdit,d=Object(n.useState)(""),s=Object(c.a)(d,2),m=s[0],b=s[1],h=Object(n.useState)(""),f=Object(c.a)(h,2),E=f[0],k=f[1],g=Object(n.useState)(""),p=Object(c.a)(g,2),v=p[0],B=p[1],y=Object(n.useState)(!1),O=Object(c.a)(y,2),j=O[0],N=O[1],S=t?"":"hide";function C(){i({title:"",author:"",pages:"",isRead:!1})}return Object(n.useEffect)((function(){b(r.title),k(r.author),B(r.pages),N(r.isRead)}),[r]),o.a.createElement("div",{id:"modal",className:S},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,r.id?"Edit book":"Add a book"),o.a.createElement("button",{id:"btn-modal-close",onClick:function(){C(),a()}},"Close")),o.a.createElement("form",{className:"body",onSubmit:function(e){e.preventDefault(),r.id?u.editBook({title:m,author:E,pages:v,isRead:j,id:r.id}):u.addBook(m,E,v,j),l(u.getAllBooks()),C(),a()}},o.a.createElement("label",{htmlFor:"title"},"Title *"),o.a.createElement("input",{id:"title",value:m,onChange:function(e){b(e.target.value)},type:"text",name:"title",required:"required"}),o.a.createElement("label",{htmlFor:"author"},"Author *"),o.a.createElement("input",{id:"book-author",type:"text",name:"author",value:E,onChange:function(e){return k(e.target.value)},required:"required"}),o.a.createElement("div",{className:"lower"},o.a.createElement("label",{className:"label-pages",htmlFor:"pages"},"# of pages"),o.a.createElement("input",{id:"book-pages",className:"input-pages",type:"number",name:"pages",value:v,onChange:function(e){return B(e.target.value)}}),o.a.createElement("label",{className:"label-read",htmlFor:"read"},"Already read?"),o.a.createElement("input",{className:"input-read",id:"book-read",type:"checkbox",name:"read",checked:j,onChange:function(e){return N(e.target.checked)}})),o.a.createElement("button",{id:"btn-modal-add",type:"submit"},r.id?"Edit book":"Add book"))))};a(16);var b=function(){return o.a.createElement("footer",null,o.a.createElement("p",null,"made by ",o.a.createElement("a",{href:"https://github.com/pklepa"},"pklepa")," using"," ",o.a.createElement("a",{href:"https://reactjs.org/"},"React")))};var h=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),i=Object(c.a)(r,2),h=i[0],f=i[1],E=Object(n.useState)({}),k=Object(c.a)(E,2),g=k[0],p=k[1];function v(){l(!a)}function B(){u.saveLibrary()}return Object(n.useEffect)((function(){return u.initializeLibrary(),f(u.getAllBooks()),window.addEventListener("beforeunload",B),function(){window.removeEventListener("beforeunload",B)}}),[]),o.a.createElement("div",{id:"page-home"},o.a.createElement(d,null),o.a.createElement("main",null,o.a.createElement("button",{className:"add-book",id:"btn-add-form",onClick:v},o.a.createElement("span",null,"add_circle"),"Add a book"),o.a.createElement("div",{className:"cards-container"},h.map((function(e){return o.a.createElement(s,{key:e.id,bookObj:e,setBookLibrary:f,setBookToEdit:p,toggleModal:v})})))),o.a.createElement(b,null),o.a.createElement(m,{showModal:a,toggleModal:v,setBookLibrary:f,bookToEdit:g,setBookToEdit:p}))};r.a.render(o.a.createElement(h,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.63677a88.chunk.js.map